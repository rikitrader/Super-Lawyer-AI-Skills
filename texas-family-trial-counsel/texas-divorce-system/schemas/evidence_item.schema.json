{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "evidence_item.schema.json",
  "title": "Texas Divorce Evidence Item",
  "description": "Structured evidence tracking for Texas divorce litigation",
  "type": "object",
  "required": ["evidence_id", "cause_no", "type", "description", "source"],
  "properties": {
    "evidence_id": {
      "type": "string",
      "description": "Unique evidence identifier",
      "pattern": "^EV-[0-9]{4}$"
    },
    "cause_no": {
      "type": "string",
      "description": "Court cause number"
    },
    "exhibit_no": {
      "type": "string",
      "description": "Trial exhibit number (e.g., P-1, R-1)"
    },
    "type": {
      "type": "string",
      "enum": [
        "financial_record",
        "bank_statement",
        "tax_return",
        "pay_stub",
        "retirement_statement",
        "business_record",
        "real_property_deed",
        "vehicle_title",
        "credit_card_statement",
        "loan_document",
        "insurance_policy",
        "photograph",
        "video",
        "audio",
        "text_message",
        "email",
        "social_media",
        "medical_record",
        "school_record",
        "police_report",
        "cps_record",
        "court_record",
        "deposition_transcript",
        "affidavit",
        "declaration",
        "expert_report",
        "appraisal",
        "valuation",
        "other"
      ]
    },
    "description": {
      "type": "string",
      "description": "Brief description of the evidence"
    },
    "source": {
      "type": "object",
      "required": ["origin"],
      "properties": {
        "origin": {
          "type": "string",
          "enum": [
            "client",
            "opposing_party",
            "third_party",
            "subpoena",
            "discovery",
            "edocs",
            "public_record",
            "expert"
          ]
        },
        "custodian": {
          "type": "string",
          "description": "Person or entity with custody of original"
        },
        "obtained_date": {
          "type": "string",
          "format": "date"
        },
        "obtained_method": {
          "type": "string",
          "enum": [
            "voluntary_production",
            "request_for_production",
            "subpoena",
            "edocs_download",
            "public_records_request",
            "informal_discovery"
          ]
        }
      }
    },
    "file_info": {
      "type": "object",
      "properties": {
        "filename": {
          "type": "string",
          "description": "Stored filename (YYYYMMDD_DocType_Description.pdf format)"
        },
        "original_filename": {
          "type": "string",
          "description": "Original filename as received"
        },
        "file_path": {
          "type": "string",
          "description": "Path within case folder (e.g., /evidence/financial/)"
        },
        "file_format": {
          "type": "string",
          "enum": ["pdf", "jpg", "png", "mp4", "mp3", "docx", "xlsx", "msg", "eml", "other"]
        },
        "page_count": {
          "type": "integer"
        },
        "file_size_kb": {
          "type": "integer"
        }
      }
    },
    "date_range": {
      "type": "object",
      "description": "Date range covered by the document",
      "properties": {
        "start_date": {
          "type": "string",
          "format": "date"
        },
        "end_date": {
          "type": "string",
          "format": "date"
        },
        "as_of_date": {
          "type": "string",
          "format": "date",
          "description": "Single date if document is a snapshot"
        }
      }
    },
    "relevance": {
      "type": "object",
      "properties": {
        "issues": {
          "type": "array",
          "description": "Legal issues this evidence supports",
          "items": {
            "type": "string",
            "enum": [
              "property_division",
              "separate_property",
              "community_property",
              "property_valuation",
              "income_determination",
              "child_support",
              "spousal_maintenance",
              "conservatorship",
              "possession_access",
              "best_interest",
              "primary_residence",
              "relocation",
              "parental_fitness",
              "domestic_violence",
              "child_safety",
              "substance_abuse",
              "mental_health",
              "credibility",
              "dissipation",
              "hidden_assets",
              "fraud"
            ]
          }
        },
        "supports_party": {
          "type": "string",
          "enum": ["client", "opposing_party", "neutral"]
        },
        "strength": {
          "type": "string",
          "enum": ["critical", "strong", "moderate", "weak", "unknown"]
        },
        "notes": {
          "type": "string"
        }
      }
    },
    "authentication": {
      "type": "object",
      "properties": {
        "method": {
          "type": "string",
          "enum": [
            "self_authenticating",
            "business_record_affidavit",
            "witness_testimony",
            "stipulation",
            "certified_copy",
            "expert_authentication",
            "not_authenticated"
          ]
        },
        "authenticating_witness": {
          "type": "string"
        },
        "affidavit_prepared": {
          "type": "boolean"
        },
        "tre_rule": {
          "type": "string",
          "description": "Texas Rules of Evidence rule for authentication"
        },
        "authentication_notes": {
          "type": "string"
        }
      }
    },
    "admissibility": {
      "type": "object",
      "properties": {
        "hearsay_exception": {
          "type": "string",
          "enum": [
            "not_hearsay",
            "business_record_803_6",
            "public_record_803_8",
            "present_sense_803_1",
            "excited_utterance_803_2",
            "statement_against_interest_804_b_3",
            "opposing_party_statement_801_e_2",
            "other_exception",
            "no_exception"
          ]
        },
        "anticipated_objections": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "hearsay",
              "relevance",
              "authentication",
              "best_evidence",
              "privilege",
              "unfair_prejudice",
              "foundation",
              "speculation",
              "improper_character"
            ]
          }
        },
        "response_to_objections": {
          "type": "string"
        }
      }
    },
    "impeachment": {
      "type": "object",
      "description": "For evidence used to impeach witnesses",
      "properties": {
        "is_impeachment": {
          "type": "boolean"
        },
        "target_witness": {
          "type": "string"
        },
        "prior_statement_date": {
          "type": "string",
          "format": "date"
        },
        "contradiction_summary": {
          "type": "string"
        }
      }
    },
    "trial_use": {
      "type": "object",
      "properties": {
        "include_in_trial_binder": {
          "type": "boolean"
        },
        "binder_tab": {
          "type": "string",
          "enum": [
            "financial",
            "property",
            "income",
            "children",
            "parenting",
            "safety",
            "credibility",
            "impeachment",
            "rebuttal"
          ]
        },
        "offer_through_witness": {
          "type": "string"
        },
        "direct_exam_reference": {
          "type": "boolean"
        },
        "cross_exam_reference": {
          "type": "boolean"
        }
      }
    },
    "status": {
      "type": "string",
      "enum": [
        "collected",
        "reviewed",
        "organized",
        "authenticated",
        "trial_ready",
        "admitted",
        "excluded",
        "withdrawn"
      ]
    },
    "metadata": {
      "type": "object",
      "properties": {
        "created_date": {
          "type": "string",
          "format": "date"
        },
        "last_updated": {
          "type": "string",
          "format": "date"
        },
        "created_by": {
          "type": "string"
        },
        "version": {
          "type": "integer"
        }
      }
    }
  }
}
